<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Uxnote Demo - Page One</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header>
      <div class="nav">
        <div class="brand">Uxnote Demo</div>
        <div class="nav-links">
          <a href="./index.html">Page one</a>
          <a href="./page-2.html">Page two</a>
        </div>
        <div class="dropdown">
          <button type="button" id="menuToggle" aria-haspopup="true" aria-expanded="false">
            Menu
          </button>
          <div class="dropdown-panel" role="menu" aria-hidden="true" id="menuPanel">
            <a href="#layers" role="menuitem">Layer stack</a>
            <a href="#accordion" role="menuitem">Accordion</a>
            <a href="#popups" role="menuitem">Popups</a>
          </div>
        </div>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="hero-card">
          <div class="pill">Demo setup</div>
          <h1>Annotation stress test</h1>
          <p>
            Use this page to test text highlights, element highlights, sticky layers,
            dropdowns, accordions, popovers, and modals.
          </p>
          <div class="stack">
            <button class="cta" type="button" id="openModal">Open modal</button>
            <button class="cta" type="button" id="openDialog">Open dialog</button>
            <button class="cta" type="button" id="openPopover">Open popover</button>
          </div>
        </div>
        <div class="hero-card">
          <div class="pill">Ignore zone</div>
          <p>
            This block is marked with <code>data-uxnote-ignore</code> to test the
            non-annotable rule.
          </p>
          <div class="card" data-uxnote-ignore>
            <strong>Ignore this area</strong>
            <p>
              Clicking or selecting inside should be blocked by the tool.
            </p>
          </div>
        </div>
      </section>

      <section class="section" id="layers">
        <h2>Layered content</h2>
        <div class="layer-wrap">
          <div class="layer back">
            <p>This is the back layer. Add annotations here.</p>
          </div>
          <div class="layer mid">
            <p>This is the mid layer with z-index 5.</p>
          </div>
          <div class="layer front">
            <p>Front layer with higher z-index. Try annotating overlaps.</p>
          </div>
        </div>
      </section>

      <section class="section">
        <h2>Cards and sticky note</h2>
        <div class="grid">
          <div class="card">
            <h3>Card A</h3>
            <p>Annotate text and see if it stays behind other UI.</p>
          </div>
          <div class="card">
            <h3>Card B</h3>
            <p>Use element mode on this card.</p>
          </div>
          <div class="sticky-note">
            <h3>Sticky note</h3>
            <p>This note stays sticky while you scroll.</p>
          </div>
        </div>
      </section>

      <section class="section" id="accordion">
        <h2>Accordion test</h2>
        <div class="accordion" id="accordionRoot">
          <div class="accordion-item">
            <button class="accordion-toggle" type="button" aria-expanded="false">
              Section one
            </button>
            <div class="accordion-panel" hidden>
              <p>
                Annotate this text, then close the accordion to ensure the highlight
                disappears naturally.
              </p>
            </div>
          </div>
          <div class="accordion-item">
            <button class="accordion-toggle" type="button" aria-expanded="false">
              Section two
            </button>
            <div class="accordion-panel" hidden>
              <p>
                Another block of text for highlight testing in a hidden panel.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section class="section" id="popups">
        <h2>Popups and tooltips</h2>
        <div class="grid">
          <div class="card">
            <h3>Tooltip</h3>
            <div class="tooltip-wrap">
              <span>Hover me</span>
              <div class="tooltip" role="tooltip">Tooltip content (blocked)</div>
            </div>
          </div>
          <div class="card">
            <h3>Popover</h3>
            <p>
              Popover uses the native <code>popover</code> attribute. Try annotating
              inside and outside.
            </p>
            <button class="cta" type="button" id="openPopoverInline">Toggle popover</button>
          </div>
          <div class="card">
            <h3>Dynamic content</h3>
            <p>
              Use this to create content after load and test missing annotation retry.
            </p>
            <button class="cta" type="button" id="addDynamic">Add dynamic block</button>
            <div id="dynamicSlot"></div>
          </div>
        </div>
      </section>

      <section class="section long-text">
        <h2>Long text for scrolling</h2>
        <p>
          This is a long paragraph for scrolling. Repeat it to test text highlights
          across multiple lines and scroll positions.
        </p>
        <p>
          This is a long paragraph for scrolling. Repeat it to test text highlights
          across multiple lines and scroll positions.
        </p>
        <p>
          This is a long paragraph for scrolling. Repeat it to test text highlights
          across multiple lines and scroll positions.
        </p>
        <p>
          This is a long paragraph for scrolling. Repeat it to test text highlights
          across multiple lines and scroll positions.
        </p>
        <p>
          This is a long paragraph for scrolling. Repeat it to test text highlights
          across multiple lines and scroll positions.
        </p>
        <p>
          This is a long paragraph for scrolling. Repeat it to test text highlights
          across multiple lines and scroll positions.
        </p>
      </section>
    </main>

    <div class="floating">
      <strong>Floating banner</strong>
      <p>This is a fixed banner with high z-index.</p>
    </div>

    <div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true" data-uxnote-allow>
      <div class="modal">
        <h3>Custom modal</h3>
        <p>Annotations inside this modal should be blocked.</p>
        <button class="cta" type="button" id="closeModal">Close modal</button>
      </div>
    </div>

    <dialog id="nativeDialog" data-uxnote-allow>
      <h3>Native dialog</h3>
      <p>This is a native dialog element.</p>
      <button class="cta" type="button" id="closeDialog">Close dialog</button>
    </dialog>

    <div id="demoPopover" popover role="dialog" aria-modal="true" data-uxnote-allow>
      <div class="card">
        <h3>Popover panel</h3>
        <p>Popover content should be blocked by annotation rule.</p>
      </div>
    </div>

    <footer class="footer">
      <p>Page one footer. Scroll to verify markers and highlights.</p>
    </footer>

    <script src="./demo.js"></script>
    <script src="../uxnote-tool/uxnote.js"></script>
  </body>
</html>
